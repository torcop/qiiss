# src/Qiiss/UserBundle/Resources/config/services.yml
parameters:
    vendor_security.authentication_handler: Qiiss\UserBundle\Handler\AjaxHandler
services:
    qiiss_user.registration.form.type:
        class: Qiiss\UserBundle\Form\Type\RegistrationFormType
        arguments: [%fos_user.model.user.class%]
        tags:
            - { name: form.type, alias: qiiss_user_registration }
    authentication_handler:
        class:  %vendor_security.authentication_handler%
        arguments:  [@router]

    my.listener:
        class: Qiiss\ProfileBundle\EventListener\SearchIndexer
        tags:
            - { name: doctrine.event_listener, event: postPersist }
